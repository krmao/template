__d(function(e,t,n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,n,r){if(n===t)return e;var i=new Map,a=new Map,o=new Map;e.forEach(function(e){var t=e.key;e.isStale&&o.set(t,e),i.set(t,e)});var s=new Set;t.routes.forEach(function(e,t){var n=c+e.key,i={index:t,isActive:!1,isStale:!1,key:n,route:e,descriptor:r&&r[e.key]};(0,u.default)(!s.has(n),"navigation.state.routes["+t+"].key \""+n+"\" conflicts with another route!"),s.add(n),o.has(n)&&o.delete(n),a.set(n,i)}),n&&n.routes.forEach(function(t,n){var r=c+t.key;if(!a.has(r)){var i=e.find(function(e){return e.route.key===t.key}),u=i&&i.descriptor;o.set(r,{index:n,isActive:!1,isStale:!0,key:r,route:t,descriptor:u})}});var f=[],v=function(e){var t=e.key,n=i.has(t)?i.get(t):null;n&&d(n,e)?f.push(n):f.push(e)};o.forEach(v),a.forEach(v),f.sort(l);var h=0;if(f.forEach(function(e,n){var r=!e.isStale&&e.index===t.index;r!==e.isActive&&(f[n]=babelHelpers.extends({},e,{isActive:r})),r&&h++}),(0,u.default)(1===h,'there should always be only one scene active, not %s.',h),f.length!==e.length)return f;if(f.some(function(t,n){return!d(e[n],t)}))return f;return e};var a=t(i[0]),u=babelHelpers.interopRequireDefault(a),o=t(i[1]),s=babelHelpers.interopRequireDefault(o),c='scene_';function f(e,t){var n=e.length-t.length;return n>0?1:n<0?-1:e>t?1:-1}function l(e,t){return e.index>t.index?1:e.index<t.index?-1:f(e.key,t.key)}function d(e,t){return e.key===t.key&&e.index===t.index&&e.isStale===t.isStale&&e.isActive===t.isActive&&v(e.route,t.route)}function v(e,t){return e&&t?e.key===t.key&&(0,s.default)(e,t):e===t}},347,[310,348]);