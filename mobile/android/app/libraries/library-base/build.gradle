apply plugin: "com.android.library"
apply plugin: "kotlin-android"
apply plugin: 'kotlin-android-extensions'

android {
    compileSdkVersion = rootProject.ext.compileSdkVersion
    buildToolsVersion = rootProject.ext.buildToolsVersion
    defaultConfig {
        minSdkVersion rootProject.ext.minSdkVersion
        targetSdkVersion rootProject.ext.targetSdkVersion
    }

    resourcePrefix "st_"
}

dependencies {
    api fileTree(dir: "libs", include: ["*.jar"])

    /******* 官方支持库 ****************************************************************************/
    api "com.android.support:support-v4:$rootProject.ext.supportLibraryVersion"
    api "com.android.support:appcompat-v7:$rootProject.ext.supportLibraryVersion"
    api "com.android.support:recyclerview-v7:$rootProject.ext.supportLibraryVersion"
    api "com.android.support:design:$rootProject.ext.supportLibraryVersion"
    api "com.android.support:cardview-v7:$rootProject.ext.supportLibraryVersion"
    api "com.android.support:animated-vector-drawable:$rootProject.ext.supportLibraryVersion"
    api "com.android.support:multidex:$rootProject.ext.multidex"
    //api "com.android.support.constraint:constraint-layout:$rootProject.ext.constraintLayoutVersion"
    //api "com.android.support:support-annotations:$rootProject.ext.supportLibraryVersion"
    //api "com.android.support:leanback-v17:$rootProject.ext.supportLibraryVersion"

    /******* kotlin支持 ***************************************************************************/
    api "org.jetbrains.kotlin:kotlin-stdlib:$rootProject.ext.kotlinVersion"
    api "org.jetbrains.kotlin:kotlin-reflect:$rootProject.ext.kotlinVersion"
    api "org.jetbrains.anko:anko-common:$rootProject.ext.ankoVersion"

    /******* 必备工具库 ****************************************************************************/
    api "com.google.guava:guava:$rootProject.ext.guavaVersion"  //1.5MB
    api "io.reactivex.rxjava2:rxjava:$rootProject.ext.rxjavaVersion"    //1.3MB [EventBus]
    api "io.reactivex.rxjava2:rxkotlin:$rootProject.ext.rxkotlinVersion"
    api "io.reactivex.rxjava2:rxandroid:$rootProject.ext.rxandroidVersion" //8KB
    api "com.jakewharton.rxbinding2:rxbinding-kotlin:$rootProject.ext.rxbindingVersion"
    api "com.jakewharton.rxbinding2:rxbinding-design-kotlin:$rootProject.ext.rxbindingVersion"
    api "com.jakewharton.rxbinding2:rxbinding-support-v4-kotlin:$rootProject.ext.rxbindingVersion"
    api "com.jakewharton.rxbinding2:rxbinding-appcompat-v7-kotlin:$rootProject.ext.rxbindingVersion"
    api "com.jakewharton.rxbinding2:rxbinding-recyclerview-v7-kotlin:$rootProject.ext.rxbindingVersion"

    /******* 数据库管理 ****************************************************************************/
    //api "org.greenrobot:greendao:$rootProject.ext.greendaoVersion"

    /******* 网络请求库 ****************************************************************************/
    api "com.squareup.okhttp3:okhttp:$rootProject.ext.okhttpVersion"
    // api "com.squareup.okhttp3:logging-interceptor:$rootProject.ext.okhttpVersion" //STHttpLoggingInterceptor
    api "com.squareup.retrofit2:retrofit:$rootProject.ext.retrofitVersion"
    api "com.squareup.retrofit2:adapter-rxjava2:$rootProject.ext.retrofitVersion"
    api "com.squareup.retrofit2:converter-gson:$rootProject.ext.retrofitVersion"
    //api "org.ligboy.retrofit2:converter-fastjson-android:$rootProject.ext.converterfastjsonandroidVersion"
    //api "com.squareup.retrofit2:converter-jackson:$rootProject.ext.retrofitVersion"

    /******* 网络图片库 ****************************************************************************/
    if (gradle.ext.modules.reactNative.enable == true) {
        compileOnly "com.facebook.fresco:fresco:$rootProject.ext.frescoVersion"
        compileOnly "com.facebook.fresco:imagepipeline-okhttp3:$rootProject.ext.frescoVersion"
    } else {
        api "com.facebook.fresco:fresco:$rootProject.ext.frescoVersion"
        api "com.facebook.fresco:imagepipeline-okhttp3:$rootProject.ext.frescoVersion"
    }
    /******* 其它常用库 ****************************************************************************/
    api "com.jude:swipebackhelper:3.1.2"
    api 'com.gyf.immersionbar:immersionbar:2.3.1' // 沉浸式状态栏
    api "com.andkulikov:transitionseverywhere:1.7.8"
    api 'com.liaoinstan.springview:library:1.3.2'

    api 'com.airbnb.android:lottie:2.7.0'

    api(name: "bspatch-0.0.2", ext: "aar")
    // api 'com.smart.library.util:bspatch:0.0.2'
}

/*apply plugin: 'maven'

group = "com.smart.android"
def artifactID = "library-base"
version = rootProject.ext.libraryBaseVersion

uploadArchives {
    repositories {
        mavenDeployer {
            snapshotRepository(url: "") {
                authentication(userName: "", password: "")
            }
            repository(url: rootProject.ext.prepository_url) {
                authentication(userName: "", password: "")
            }
            pom.packaging = 'aar'
            pom.groupId = project.group
            pom.artifactId = artifactID
            pom.version = project.version
        }
    }
}*/
