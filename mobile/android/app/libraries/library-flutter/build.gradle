apply plugin: "com.android.library"
apply plugin: "kotlin-android"
apply plugin: 'kotlin-android-extensions'

group = 'com.template'
version = '1.0.0'

android {
    compileSdkVersion = rootProject.ext.compileSdkVersion
    buildToolsVersion = rootProject.ext.buildToolsVersion
    defaultConfig {
        minSdkVersion rootProject.ext.minSdkVersion
        targetSdkVersion rootProject.ext.targetSdkVersion
    }
    resourcePrefix "flutter_"

    if (gradle.ext.modules.flutter.enableBoost != true) {
        sourceSets {
            main {
                manifest.srcFile 'src/main/AndroidManifest.xml'
                res.srcDir 'src/main/res'
                java { srcDirs = ['src/main/java'] }
            }
        }
    } else {
        sourceSets {
            main {
                manifest.srcFile 'src/main_boost/AndroidManifest.xml'
                res.srcDir 'src/main/res'
                java { srcDirs = ['src/main_boost/java'] }
            }
        }
    }

    /*buildTypes {
        profile {
            initWith debug
        }
    }*/
}

dependencies {
    api fileTree(dir: "libs", include: ["*.jar"])

    api project(':library-template-base')

    if (gradle.ext.modules.flutter.enableBoost != true) {
        debugApi "com.smart.flutter.flutter_module:flutter_debug:1.0"
        // profileApi 'com.smart.flutter.flutter_module:flutter_profile:1.0'
        releaseApi "com.smart.flutter.flutter_module:flutter_release:1.0"
    } else {
        api(name: "flutter-bundle-1.0.0-debug", ext: "aar")
    }
}
