apply plugin: "com.android.library"
apply plugin: "kotlin-android"
apply plugin: 'kotlin-android-extensions'

android {
    compileSdkVersion = rootProject.ext.compileSdkVersion
    buildToolsVersion = rootProject.ext.buildToolsVersion
    defaultConfig {
        minSdkVersion rootProject.ext.minSdkVersion
        targetSdkVersion rootProject.ext.targetSdkVersion
    }

    // resourcePrefix "st_"
}

dependencies {
    api fileTree(dir: "libs", include: ["*.jar"])

    if (gradle.ext.modules.library_base.dependency_local.enable == true) {
        implementation(name: gradle.ext.modules.library_base.dependency_local.dependency, ext: "aar")
    } else if (gradle.ext.modules.library_base.dependency_remote.enable == true) {
        implementation gradle.ext.modules.library_base.dependency_remote.dependency
    } else {
        implementation project(gradle.ext.modules.library_base.dependency_project.dependency)
    }

    api "androidx.preference:preference:1.1.1"

    // required, enough for most devices.
    api 'tv.danmaku.ijk.media:ijkplayer-java:0.8.8'
    // api 'tv.danmaku.ijk.media:ijkplayer-armv7a:0.8.8'
    api(name: "ijkplayer-armv7a-release", ext: "aar") // include rtmp support

    // Other ABIs: optional
    // api 'tv.danmaku.ijk.media:ijkplayer-armv5:0.8.8'
    // api 'tv.danmaku.ijk.media:ijkplayer-arm64:0.8.8' // minSdkVersion >= 21 beacause the x86_64 and arm64 only be used after android 5.0
    // api 'tv.danmaku.ijk.media:ijkplayer-x86_64:0.8.8' // minSdkVersion >= 21 beacause the x86_64 and arm64 only be used after android 5.0
    // api 'tv.danmaku.ijk.media:ijkplayer-x86:0.8.8'
    
    // ExoPlayer as IMediaPlayer: optional, experimental
    api 'tv.danmaku.ijk.media:ijkplayer-exo:0.8.8'

    // api 'com.squareup:otto:1.3.8'
}